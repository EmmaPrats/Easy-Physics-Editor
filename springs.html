<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Springs</title>
        <link rel="stylesheet" type="text/css" href="styles.css"/>
    </head>
    <body>
        <h1>Springs</h1>
        <div id="eptfg-flex-container" class="flex-container">
            <div class="canvas-container">
                <div class="toolbar">
                    <input type="checkbox" id="grid" name="grid" checked/><label for="grid">Grid</label>
                    <input type="checkbox" id="ratio-16-9" name="ratio-16-9"/><label for="ratio-16-9">16:9</label>
                    <input type="checkbox" id="ratio-4-3" name="ratio-4-3"/><label for="ratio-4-3">4:3</label>
                    <input type="checkbox" id="ratio-1-1" name="ratio-1-1"/><label for="ratio-1-1">1:1</label>
                    <input type="checkbox" id="ratio-3-4" name="ratio-3-4"/><label for="ratio-3-4">3:4</label>
                    <input type="checkbox" id="ratio-9-16" name="ratio-9-16"/><label for="ratio-9-16">9:16</label>
                    <input type="checkbox" name="lock-canvas-width" id="lock-canvas-width"/><input type="text" id="canvas-width" value="480" size="4"/>px x <input type="checkbox" name="lock-canvas-height" id="lock-canvas-height"/><input type="text" id="canvas-height" value="360" size="4"/>px
                </div>
            <canvas width="480" height="360" id="eptfg-canvas"></canvas>
            </div>
            <div class="userinput-container">
                <div class="model-chooser-bar nav-container">
                    <a href="flocking.html"><div class="item auto">Flocking</div></a>
                    <a href="hunterandgatherer.html"><div class="item auto">Hunter and gatherer</div></a>
                    <a href="floating.html"><div class="item auto">Floating</div></a>
                    <div class="item auto">Springs</div>
                </div>
                <div class="userinput-block">
                    <p>Scene parameters:</p>
                    <div class="userinput-item">
                        Scene size<input type="range" min="5" max="30" value="11" step="1" id="scene-scale" oninput="document.getElementById('zoomlabel').value = this.value"/><input type="number" id="zoomlabel" min="5" max="30" value="11" step="1" onchange="document.getElementById('scene-scale').value = this.value"></input>
                    </div>
                </div>
                <div class="userinput-block">
                    <p>Simulation parameters:</p>
                    <div class="userinput-item">
                        Mass
                        <input type="range" min="0.1" max="10" step="0.1" value="1" id="input-mass"/>
                    </div>
                    <div class="userinput-item">
                        Stiffness
                        <input type="range" min="10" max="500" step="10" value="150" id="input-stiffness"/>
                    </div>
                    <div class="userinput-item">
                        Damping
                        <input type="range" min="0" max="10" step="1" value="3" id="input-damping"/>
                    </div>
                </div>
                <div class="userinput-block">
                    <p>Aesthetic parameters:</p>
                    <div class="userinput-item">
                        Text
                        <input type="text" id="input-text" value="TFG" onchange="refreshLetterPositionInputs()"/>
                        <input type="checkbox" id="input-showtext" checked="checked"/><label for="input-showtext">Show for guidance</label><br/>
                        Text location:<br/>
                        x=<input type="number" id="input-textlocationX" value="-1"/> y=<input type="number" id="input-textlocationY" value="0"/>
                    </div>
                    
                    <div class="userinput-item" id="letterlocations">
                        Letter locations:<br/>
                    </div>
                    <div class="userinput-item">
                        Font
                        <input type="text" id="input-font"/><!--TODO-->
                    </div>
                    <div class="userinput-item">
                        Size
                        <input type="range" min="1" max="20" step="1" value="1" id="input-size"/>
                    </div>
                    <div class="userinput-item">
                        <input type="color" value="#000000" id="input-color"/>Color
                    </div>
            </div>
            </div>
            <script>
                function refreshLetterPositionInputs()
                {
                    var letterLocationsNode = document.getElementById("letterlocations");
                    while (letterLocationsNode.firstChild)
                    {
                        letterLocationsNode.removeChild (letterLocationsNode.firstChild);
                    }
                    
                    var text = document.getElementById("input-text").value;
                    for (var i=0; i<text.length; i++)
                    {
                        var input = document.createElement("span");
                        input.innerHTML = text[i] + ' x=<input type="number" id="letter-' + i + '-x" class="input-letterlocation" value="' + (i-1) + '" onchange="letterLocationChange(' + i + ', \'x\', this.value)"/> y=<input type="number" id="letter-' + i + '-y" class="input-letterlocation" value="0" onchange="letterLocationChange(' + i + ', \'y\', this.value)"/>'; //TODO position
                        letterLocationsNode.appendChild (input);
                        letterLocationsNode.appendChild (document.createElement("br"));
                    }
                }
            refreshLetterPositionInputs();
                </script>
        <script src="math.js?1001"></script>
        <script src="library.js?1001"></script>
        <!--script src="code.js"></script>
        <script src="codegenerator.js"></script>
        <script src="canvasappearance.js"></script-->
        <script src="springs/springs.js?1001"></script>
        <script src="springs/springsform-web.js?1001"></script>
        
    </body>
</html>
